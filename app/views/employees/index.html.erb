<div class="container mt-4">
  <div class="row">
    <div class="col-sm">
      <h1>Employees</h1>
    </div>
    <div class="col-sm">
      <button type="button" class="btn btn-primary float-right ml-2" data-toggle="modal" data-target="#import-modal">
        Import Employees
      </button>
      <%= link_to "New Employee", new_employee_path, class: "btn btn-primary float-right" %>
    </div>
  </div>

  <table class="table table-hover mt-4">
    <thead class="thead-light">
      <tr>
        <th>Identifier</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Company Name</th>
        <th>Clients</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @employees.each do |employee| %>
        <tr>
          <td><%= employee.identifier %></td>
          <td><%= employee.first_name %></td>
          <td><%= employee.last_name %></td>
          <td><%= employee.company.name %></td>
          <td><%= link_to employee.client_ids.count, clients_path(employee_id: employee) %></td>
          <td><%= link_to "Show", employee %></td>
          <td><%= link_to "Edit", edit_employee_path(employee) %></td>
          <td><%= link_to "Destroy", employee, method: :delete, data: { confirm: "Are you sure?" } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= render "import_modal" %>
